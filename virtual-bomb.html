<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Virtual Diwali Bom</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      text-align: center;
      font-family: 'Segoe UI', sans-serif;
      padding-top: 100px;
      margin: 0;
      overflow: hidden;
    }
    #bom {
      padding: 20px 40px;
      background-color: #ff5722;
      border: none;
      font-size: 24px;
      cursor: pointer;
      border-radius: 10px;
      transition: transform 0.2s;
      position: relative;
      z-index: 5;
    }
    #bom:hover { transform: scale(1.05); }

    #message {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      z-index: 7;
      display: none;
      max-width: 90vw;
      max-height: 80vh;
      overflow: auto;
      padding: 20px;
      box-sizing: border-box;
      background: rgba(0,0,0,0.85);
      color: #ffd700;
      border-radius: 10px;
      font-size: clamp(14px, 2.5vw, 20px);
      line-height: 1.4;
      text-align: left;
      white-space: pre-wrap;
      word-break: break-word;
      box-shadow: 0 8px 24px rgba(0,0,0,0.6);
      animation: boom 0.25s ease-out forwards;
    }

    canvas#fx {
      position: fixed;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      z-index: 6;
      pointer-events: none;
    }

    @keyframes boom {
      0% { transform: translate(-50%, -50%) scale(0.9); opacity: 0; }
      100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }
  </style>
</head>
<body>
  <button id="bom">ðŸ’£ Click to Boom!</button>

  <div id="message">ðŸŒŸ Wishing You a Joyous Diwali ðŸŒŸ

May this Festival of Lights illuminate your path with happiness, prosperity, and good health. 


<img src="https://media1.tenor.com/m/kgCjQrBI0KcAAAAd/happy-diwali-2023.gif" alt="Diwali Deepak">


Happy Diwali to you and your loved ones!</div>

  <canvas id="fx"></canvas>

  <script>
    const btn = document.getElementById('bom');
    const msg = document.getElementById('message');
    const canvas = document.getElementById('fx');
    const ctx = canvas.getContext('2d');
    let particles = [];
    const colors = ['#ffd700','#ff6b6b','#6be8ff','#b86bff','#6bff9e','#ffb86b'];

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Particle {
      constructor(x,y,type='spark') {
        this.x = x; this.y = y;
        const speed = Math.random()*6 + 2;
        const angle = Math.random()*Math.PI*2;
        this.vx = Math.cos(angle)*speed * (type==='confetti'?0.6:1);
        this.vy = Math.sin(angle)*speed * (type==='confetti'?0.6:1) - (type==='spark'?1:0);
        this.size = type==='confetti' ? (6 + Math.random()*8) : (1 + Math.random()*3);
        this.life = 40 + Math.random()*40;
        this.age = 0;
        this.color = colors[(Math.random()*colors.length)|0];
        this.type = type;
        this.spin = Math.random()*0.3 - 0.15;
        this.angle = Math.random()*Math.PI*2;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        if (this.type === 'confetti') {
          this.vy += 0.12; // gravity
          this.vx *= 0.995;
          this.angle += this.spin;
        } else {
          this.vy += 0.04;
          this.vx *= 0.99;
          this.vy *= 0.99;
        }
        this.age++;
      }
      draw(ctx) {
        const t = 1 - this.age/this.life;
        if (this.type === 'confetti') {
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.rotate(this.angle);
          ctx.fillStyle = this.color;
          ctx.globalAlpha = Math.max(0, t);
          ctx.fillRect(-this.size/2, -this.size/2, this.size, this.size*0.6);
          ctx.restore();
        } else { // spark
          const g = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size*6);
          g.addColorStop(0, '#fff');
          g.addColorStop(0.2, this.color);
          g.addColorStop(1, 'rgba(0,0,0,0)');
          ctx.fillStyle = g;
          ctx.globalAlpha = Math.max(0, t);
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size*2.5, 0, Math.PI*2);
          ctx.fill();
        }
      }
      isDead() { return this.age >= this.life; }
    }

    function burst(x,y) {
      // sparkles
      for (let i=0;i<120;i++) particles.push(new Particle(x,y,'spark'));
      // confetti
      for (let i=0;i<40;i++) particles.push(new Particle(x,y,'confetti'));
    }

    let animating = false;
    function loop() {
      if (!animating) return;
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for (let i = particles.length-1; i>=0; i--) {
        const p = particles[i];
        p.update();
        p.draw(ctx);
        if (p.isDead()) particles.splice(i,1);
      }
      if (particles.length === 0) {
        animating = false;
        ctx.clearRect(0,0,canvas.width,canvas.height);
        return;
      }
      requestAnimationFrame(loop);
    }

    btn.addEventListener('click', function() {
      const rect = btn.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      // show message
      msg.style.display = 'block';
      msg.setAttribute('aria-hidden','false');
      this.style.display = 'none';
      // start particle burst at button location
      burst(cx, cy);
      if (!animating) {
        animating = true;
        requestAnimationFrame(loop);
      }
      // small follow-up bursts for spread
      setTimeout(()=>burst(cx - 80, cy - 20), 120);
      setTimeout(()=>burst(cx + 80, cy + 10), 220);
    });

    // allow clicking message area to close and reset
    msg.addEventListener('click', ()=>{
      msg.style.display = 'none';
      btn.style.display = 'inline-block';
    });
  </script>
</body>
</html>
